<div class="animate-in">
    @if (auth.isAdmin()) {
    <div class="mb-4">
        <h4 class="fw-bold text-dark">Good Morning, Admin! ðŸ‘‹</h4>
        <p class="text-muted">Here is an overview of system performance and activity.</p>
    </div>
    <div class="row g-4 mb-4">
        <div class="col-md-4">
            <div class="admin-stat-card">
                <div class="stat-icon icon-users"><i class="fa-solid fa-users"></i></div>
                <div>
                    <div class="stat-num">48</div>
                    <div class="stat-desc">Total Users</div>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="admin-stat-card">
                <div class="stat-icon icon-server"><i class="fa-solid fa-layer-group"></i></div>
                <div>
                    <div class="stat-num">12</div>
                    <div class="stat-desc">Active Projects</div>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="admin-stat-card">
                <div class="stat-icon icon-warning" style="background: #fff7ed; color: #ea580c;">
                    <i class="fa-solid fa-clipboard-question"></i>
                </div>
                <div>
                    <div class="stat-num">5</div>
                    <div class="stat-desc">Pending Reviews</div>
                </div>
            </div>
        </div>
    </div>
    <div class="row g-4 mb-5">

        <div class="col-lg-8">
            <div class="table-card h-100">
                <div class="table-header">
                    <h6 class="fw-bold m-0">Recent System Audit</h6>
                    <button class="btn btn-sm btn-outline-secondary">View All</button>
                </div>
                <div class="table-responsive">
                    <table class="log-table">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Action</th>
                                <th>Target</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center gap-2">
                                        <img src="https://ui-avatars.com/api/?name=Sarah+Smith&background=random"
                                            class="avatar" style="width: 24px; height: 24px;">
                                        <span class="small fw-semibold">Sarah Smith</span>
                                    </div>
                                </td>
                                <td><span class="badge-log badge-create">Created</span></td>
                                <td>Task #TV-1024</td>
                                <td class="text-muted small">2 mins ago</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center gap-2">
                                        <img src="https://ui-avatars.com/api/?name=Admin&background=0f172a&color=fff"
                                            class="avatar" style="width: 24px; height: 24px;">
                                        <span class="small fw-semibold">Admin</span>
                                    </div>
                                </td>
                                <td><span class="badge-log badge-update">Updated</span></td>
                                <td>Global Settings</td>
                                <td class="text-muted small">1 hour ago</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center gap-2">
                                        <img src="https://ui-avatars.com/api/?name=David+C&background=random"
                                            class="avatar" style="width: 24px; height: 24px;">
                                        <span class="small fw-semibold">David Chen</span>
                                    </div>
                                </td>
                                <td><span class="badge-log badge-delete">Deleted</span></td>
                                <td>File: old_logs.zip</td>
                                <td class="text-muted small">Yesterday</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="admin-stat-card h-100">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <div>
                        <h6 class="fw-bold m-0 text-dark">Weekly Activity</h6>
                        <span class="text-muted small">Tasks Completed</span>
                    </div>
                    <div class="icon-pill pill-green" style="width:32px; height:32px; font-size: 0.9rem;">
                        <i class="fa-solid fa-chart-simple"></i>
                    </div>
                </div>

                <div class="chart-container">
                    <div class="chart-bar-wrapper">
                        <div class="chart-bar" style="height: 40px;"></div>
                        <span class="chart-label">M</span>
                    </div>
                    <div class="chart-bar-wrapper">
                        <div class="chart-bar active" style="height: 80px;"></div>
                        <span class="chart-label">T</span>
                    </div>
                    <div class="chart-bar-wrapper">
                        <div class="chart-bar" style="height: 60px;"></div>
                        <span class="chart-label">W</span>
                    </div>
                    <div class="chart-bar-wrapper">
                        <div class="chart-bar" style="height: 100px; background-color: #2563eb;"></div>
                        <span class="chart-label text-dark fw-bold">T</span>
                    </div>
                    <div class="chart-bar-wrapper">
                        <div class="chart-bar active" style="height: 90px;"></div>
                        <span class="chart-label">F</span>
                    </div>
                    <div class="chart-bar-wrapper">
                        <div class="chart-bar" style="height: 30px;"></div>
                        <span class="chart-label">S</span>
                    </div>
                    <div class="chart-bar-wrapper">
                        <div class="chart-bar" style="height: 20px;"></div>
                        <span class="chart-label">S</span>
                    </div>
                </div>

                <div class="mt-3 text-center">
                    <small class="text-muted">Total: <strong>342 Actions</strong> this week</small>
                </div>
            </div>
        </div>

    </div>
    }


    @if (auth.isManager()) {

    <div class="section-separator text-center my-5" *ngIf="auth.isAdmin()">
        <span class="badge bg-secondary opacity-50 px-3 py-2">Manager View</span>
    </div>

    <div class="mb-4">
        <h4 class="fw-bold text-dark">Project Overview</h4>
        <p class="text-muted">Track team performance and project deadlines.</p>
    </div>

    <div class="row g-4 mb-4">
        <div class="col-md-4">
            <div class="stat-card">
                <div class="stat-top">
                    <div>
                        <div class="stat-label">Active Projects</div>
                        <div class="stat-value">4</div>
                    </div>
                    <div class="icon-pill pill-purple"><i class="fa-solid fa-rocket"></i></div>
                </div>
                <div class="trend-badge trend-up"><i class="fa-solid fa-arrow-trend-up"></i> All on track</div>
                <div class="sparkline graph-purple"></div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="stat-card">
                <div class="stat-top">
                    <div>
                        <div class="stat-label">Total Tasks</div>
                        <div class="stat-value">42</div>
                    </div>
                    <div class="icon-pill pill-blue"><i class="fa-solid fa-layer-group"></i></div>
                </div>
                <div class="sparkline graph-blue"></div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="stat-card">
                <div class="stat-top">
                    <div>
                        <div class="stat-label">Critical Issues</div>
                        <div class="stat-value text-danger">3</div>
                    </div>
                    <div class="icon-pill pill-red"><i class="fa-solid fa-triangle-exclamation"></i></div>
                </div>
                <div class="trend-badge text-danger fw-bold"><i class="fa-solid fa-circle-exclamation"></i> Action
                    Needed</div>
                <div class="sparkline graph-red"></div>
            </div>
        </div>
    </div>

    <div class="table-card animate-in delay-2">
        <div class="table-header">
            <h6 class="table-title">Recent Task Assignments</h6>
            <a href="#" class="text-decoration-none small fw-bold">View All</a>
        </div>

        <div class="table-responsive">
            <table class="custom-table">
                <thead>
                    <tr>
                        <th>Employee</th>
                        <th>Task Name</th>
                        <th>Priority</th>
                        <th>Progress</th>
                        <th>Due Date</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <div class="user-cell">
                                <img src="https://ui-avatars.com/api/?name=Alex+Doe&background=0f172a&color=fff"
                                    class="user-avatar">
                                <div><span class="user-name">Alex Doe</span><span class="user-role">Frontend</span>
                                </div>
                            </div>
                        </td>
                        <td>Update Profile UI</td>
                        <td><span class="badge bg-warning bg-opacity-10 text-warning">Medium</span></td>
                        <td>
                            <div class="d-flex align-items-center gap-2">
                                <div class="progress">
                                    <div class="progress-bar bg-primary" style="width: 60%"></div>
                                </div>
                                <small class="text-muted">60%</small>
                            </div>
                        </td>
                        <td>Oct 28</td>
                        <td><button class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-pen"></i></button>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <div class="user-cell">
                                <img src="https://ui-avatars.com/api/?name=Sarah+M&background=random"
                                    class="user-avatar">
                                <div><span class="user-name">Sarah Miller</span><span class="user-role">Backend</span>
                                </div>
                            </div>
                        </td>
                        <td>Fix Login API Latency</td>
                        <td><span class="badge bg-danger bg-opacity-10 text-danger">High</span></td>
                        <td>
                            <div class="d-flex align-items-center gap-2">
                                <div class="progress">
                                    <div class="progress-bar bg-warning" style="width: 30%"></div>
                                </div>
                                <small class="text-muted">30%</small>
                            </div>
                        </td>
                        <td>Today</td>
                        <td><button class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-pen"></i></button>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <div class="user-cell">
                                <img src="https://ui-avatars.com/api/?name=David+C&background=random"
                                    class="user-avatar">
                                <div><span class="user-name">David Chen</span><span class="user-role">DevOps</span>
                                </div>
                            </div>
                        </td>
                        <td>Server Migration</td>
                        <td><span class="badge bg-success bg-opacity-10 text-success">Low</span></td>
                        <td>
                            <div class="d-flex align-items-center gap-2">
                                <div class="progress">
                                    <div class="progress-bar bg-success" style="width: 100%"></div>
                                </div>
                                <small class="text-muted">Done</small>
                            </div>
                        </td>
                        <td>Oct 20</td>
                        <td><button class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-pen"></i></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    }


    <div class="section-separator text-center my-5" *ngIf="auth.isManager() || auth.isAdmin()">
        <span class="badge bg-secondary opacity-50 px-3 py-2">My Personal Workspace</span>
    </div>

    <div class="mb-4">
        <h4 class="fw-bold text-dark">My Workspace</h4>
        <p class="text-muted">Welcome back! Here are your tasks for today.</p>
    </div>

    <div class="row g-4 mb-4">
        <div class="col-md-4">
            <div class="stat-card">
                <div class="stat-top">
                    <div>
                        <div class="stat-label">Total Assigned</div>
                        <div class="stat-value">12</div>
                    </div>
                    <div class="icon-pill pill-blue"><i class="fa-solid fa-clipboard-list"></i></div>
                </div>
                <div class="sparkline graph-blue"></div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="stat-card">
                <div class="stat-top">
                    <div>
                        <div class="stat-label">Pending</div>
                        <div class="stat-value">5</div>
                    </div>
                    <div class="icon-pill pill-orange"><i class="fa-regular fa-clock"></i></div>
                </div>
                <div class="sparkline graph-orange"></div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="stat-card">
                <div class="stat-top">
                    <div>
                        <div class="stat-label">Completed</div>
                        <div class="stat-value">7</div>
                    </div>
                    <div class="icon-pill pill-green"><i class="fa-solid fa-check"></i></div>
                </div>
                <div class="sparkline graph-green"></div>
            </div>
        </div>
    </div>

    <div class="task-panel animate-in delay-3">
        <div class="panel-header">
            <h6 class="panel-title">Assigned Tasks</h6>
            <div class="text-muted small"><i class="fa-solid fa-rotate me-1"></i> Updated just now</div>
        </div>

        <div class="task-list">

            <div class="task-list-item">
                <div class="task-info">
                    <span class="task-name">Fix Login API Latency</span>
                    <span class="task-sub"><i class="fa-solid fa-code me-1"></i> Backend Module â€¢
                        #TV-1024</span>
                </div>
                <div class="task-meta">
                    <span class="badge-custom badge-high">High Priority</span>
                </div>
                <div class="task-meta text-muted small">
                    <i class="fa-regular fa-calendar me-1"></i> Due Today
                </div>
                <div class="task-actions">
                    <select class="status-select status-pending" onchange="updateStatusColor(this)">
                        <option value="pending" selected>Pending</option>
                        <option value="progress">In Progress</option>
                        <option value="done">Done</option>
                    </select>
                    <button class="btn-action" title="View Details"><i class="fa-regular fa-eye"></i></button>
                </div>
            </div>

            <div class="task-list-item">
                <div class="task-info">
                    <span class="task-name">Update Profile Page UI</span>
                    <span class="task-sub"><i class="fa-solid fa-pen-ruler me-1"></i> Frontend â€¢
                        #TV-1025</span>
                </div>
                <div class="task-meta">
                    <span class="badge-custom badge-med">Medium</span>
                </div>
                <div class="task-meta text-muted small">
                    <i class="fa-regular fa-calendar me-1"></i> Oct 28
                </div>
                <div class="task-actions">
                    <select class="status-select status-progress" onchange="updateStatusColor(this)">
                        <option value="pending">Pending</option>
                        <option value="progress" selected>In Progress</option>
                        <option value="done">Done</option>
                    </select>
                    <button class="btn-action" title="View Details"><i class="fa-regular fa-eye"></i></button>
                </div>
            </div>

            <div class="task-list-item" style="background-color: #f8fafc;">
                <div class="task-info">
                    <span class="task-name text-muted text-decoration-line-through">Update
                        Documentation</span>
                    <span class="task-sub"><i class="fa-regular fa-file-lines me-1"></i> Docs</span>
                </div>
                <div class="task-meta">
                    <span class="badge-custom badge-low">Low</span>
                </div>
                <div class="task-meta text-success small fw-bold">
                    <i class="fa-solid fa-circle-check me-1"></i> Completed
                </div>
                <div class="task-actions">
                    <select class="status-select status-done" onchange="updateStatusColor(this)">
                        <option value="pending">Pending</option>
                        <option value="progress">In Progress</option>
                        <option value="done" selected>Done</option>
                    </select>
                    <button class="btn-action" title="View Details"><i class="fa-regular fa-eye"></i></button>
                </div>
            </div>

        </div>
    </div>


</div>