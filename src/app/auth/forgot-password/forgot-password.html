<div class="login-wrapper">
    <div class="card login-card" style="width: 24rem;">

        <div class="brand-header">
            <img src="assets/logo.png" alt="TaskVortex" class="logo-img">
            <h3 class="mb-0 fw-bold">TaskVortex</h3>
            <small class="opacity-75">Password Recovery</small>
        </div>

        <div class="card-body p-4">

            @if (isSent) {
            <div class="success-message animate-in">
                <div class="d-flex gap-2">
                    <i class="fa-solid fa-circle-check mt-1"></i>
                    <div>
                        Link sent to <strong>{{ email }}</strong>.<br>
                        Please check your inbox.
                    </div>
                </div>
            </div>

            <div class="text-center mt-4">
                <a routerLink="/login" class="btn btn-primary w-100">Back to Login</a>
            </div>
            }

            @else {
            <form (ngSubmit)="handleReset()">
                <p class="text-muted small text-center mb-4">
                    Enter your email address and we'll send you a link to reset your password.
                </p>

                <div class="mb-3">
                    <label class="form-label fw-bold small text-secondary">Email Address</label>
                    <div class="input-group">
                        <span class="input-group-text bg-white text-muted">
                            <i class="fa-regular fa-envelope"></i>
                        </span>
                        <input [(ngModel)]="email" name="email" type="email" class="form-control"
                            placeholder="name@company.com" required>
                    </div>
                </div>

                <div class="d-grid gap-2 mt-4">
                    <button type="submit" class="btn btn-primary" [disabled]="isLoading">
                        @if (isLoading) {
                        <i class="fa-solid fa-circle-notch fa-spin me-2"></i> Sending...
                        } @else {
                        Send Reset Link
                        }
                    </button>
                </div>

                <div class="text-center mt-4">
                    <a routerLink="/login" class="text-decoration-none text-muted small fw-medium">
                        <i class="fa-solid fa-arrow-left me-1"></i> Back to Login
                    </a>
                </div>
            </form>
            }

        </div>
    </div>
</div>